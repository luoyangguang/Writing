\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{etex}  %% pour regler conflits tikz et pgfplot
\usepackage{bigstrut}
\usepackage{mathtools}
\usepackage{eso-pic}
\usepackage{stmaryrd}
\usepackage{\LIBPATH/styles/gantt}
\usepackage{lscape}
\usepackage{etoolbox}
\usepackage{textcomp}
\usepackage{bbding}
\usepackage[makeroom]{cancel}
\usepackage{makecell}
\usepackage{amssymb}
\usepackage{nicefrac}
\usepackage{tikz-timing}
\usepackage{pgfplotstable}
\usepackage{wasysym}
\usepackage{filecontents}
\usepackage{pdfpages}
\usepackage{rotating}

% Packages %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \mode<presentation>{}
% \usepackage[tel={60~00},fax={60~00},lab={LSL}]{styles/beamerthemeCeaList2012Red}
% \usepackage{bookmark}
% \usepackage{fdsymbol}
% \usepackage{lmodern} 
% \usepackage[upright]{fourier}
% \usepackage{ae,aecompl}         % Utilisation des fontes vectorielles modernes
% \usepackage{amsmath}            % Permet de taper des formules mathématiques
% \usepackage{amssymb}            % Permet d'utiliser des symboles mathématiques
% \usepackage{amsfonts}           % Permet d'utiliser des polices mathématiques
% \usepackage{stmaryrd}
% \usepackage{nicefrac}           % Fractions 'inline'
% \usepackage[version=3]{mhchem}  % Equations chimiques
% \usepackage{arevmath}           % For math symbols
% \usepackage{xcolor,color, colortbl}
% \usepackage{pifont}
% \usepackage{eso-pic}
% \usepackage{anyfontsize}
% \usepackage{placeins}
% \usepackage{textcomp}
% \usepackage{hyphenat}
% \usepackage{import}
% \usepackage{pdfpages} 
% \usepackage{wrapfig}
% \usepackage{float}
% \usepackage{etoolbox}
% \usepackage{adjustbox}
% \usepackage{siunitx}
% \usepackage{url}
% \usepackage{lscape,lipsum}
% \usepackage{everypage}
% \usepackage{eurosym}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% nonooo \usetikzlibrary{shadows}
% nonooo \usetikzlibrary{positioning-plus,node-families}
% nonooo \usetikzlibrary{fadings}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% usetikzlibrary

\usetikzlibrary{mindmap,trees}
\usetikzlibrary{calc}
\usetikzlibrary{3d}
\usetikzlibrary{arrows}
\usetikzlibrary{arrows.meta}
\usetikzlibrary{snakes}
\usetikzlibrary{backgrounds}
\usetikzlibrary{datavisualization}
\usetikzlibrary{patterns}
\usetikzlibrary{matrix}
\usetikzlibrary{shapes}
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{shapes.arrows}
\usetikzlibrary{fit}
\usetikzlibrary{plotmarks}
\usetikzlibrary{positioning}
\usetikzlibrary{decorations}
\usetikzlibrary{decorations.text}
\usetikzlibrary{decorations.pathreplacing}

\usetikzlibrary{hobby}
\usetikzlibrary{automata}
\usetikzlibrary{graphs, graphs.standard, graphdrawing}

\usepgfplotslibrary{groupplots}
\usepgfplotslibrary{patchplots}


% PGF %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\pgfplotsset{compat=1.7}
\pgfplotsset{width=7cm,compat=1.3}
\pgfplotsset{every linear axis/.append style={
	/pgf/number format/.cd,
	use comma,
	1000 sep={\,},
}}
\pgfplotsset{compat=newest}
\pgfplotsset{
	table/search path={\DATAPATH},
}

% TIKZSET -----------------------------------------------------------------
\tikzstyle{every picture}+=[remember picture]
\input{\LIBPATH/tikzset}
  \tikzset{every picture/.style={execute at begin picture={%\shorthandoff{:;!?};
      }
    }
  }
% NEWENVIRONMENT -----------------------------------------------------------
\newenvironment{textBox}[1]{%
  \def\title{#1}%
  \begin{tikzpicture}
    \node [boxStyle] (box)
    \bgroup\minipage{0.5\textwidth}%
}{
    \endminipage%
    \egroup;
%    \node[boxTitleStyle] at (box.north east) {\title};
  \end{tikzpicture}%
}
\newenvironment{whiteblock} {
  \setbeamertemplate{blocks}[rounded]
  \setbeamercolor{block title}{fg=white,bg=black!85!black}
  \setbeamercolor{block body}{fg=black,bg=white}
  \begin{block}
  }{\end{block}}
\newenvironment{greenblock} {
  \setbeamertemplate{blocks}[rounded][shadow=true]
  \setbeamercolor{block title}{fg=white,bg=green!85!black}
  \setbeamercolor{block body}{fg=black,bg=green!30!white}
  \begin{block}
  }{\end{block}}
\newenvironment{orangeblock} {
  \setbeamertemplate{blocks}[rounded][shadow=true]
  \setbeamercolor{block title}{fg=white,bg=orange!85!black}
  \setbeamercolor{block body}{fg=black,bg=orange!30!white}
  \begin{block}
  }{\end{block}}
\newenvironment{blueblock} {
  \setbeamertemplate{blocks}[rounded][shadow=true]
  \setbeamercolor{block title}{fg=white,bg=blue!85!black}
  \setbeamercolor{block body}{fg=black,bg=blue!30!white}
  \begin{block}
  }{\end{block}}
\newenvironment{redblock} {
  \setbeamertemplate{blocks}[rounded][shadow=true]
  \setbeamercolor{block title}{fg=white,bg=red!85!black}
  \setbeamercolor{block body}{fg=black,bg=red!30!white}
  \begin{block}
  }{\end{block}}
\newenvironment{grayblock} {
  \setbeamertemplate{blocks}[rounded][shadow=true]
  \setbeamercolor{block title}{fg=white,bg=black!85!white}
  \setbeamercolor{block body}{fg=black,bg=black!30!white}
  \begin{block}
  }{\end{block}}
\newenvironment{changemargin}[2]{%
  \begin{list}{}{%
      \setlength{\topsep}{0pt}%
      \setlength{\leftmargin}{#1}%
      \setlength{\rightmargin}{#2}%
      \setlength{\listparindent}{\parindent}%
      \setlength{\itemindent}{\parindent}%
      \setlength{\parsep}{\parskip}%
    }%
  \item[]}{\end{list}}



% NEW COMMAND ----------------------------------------------------------
\newcommand\Input[1]{
  \begin{tikzpicture}
    \input{\PLOTPATH/#1}
  \end{tikzpicture}
}

\newcommand{\Node}[4]{
  node[#1] (#2) {#3} [#4]
}
\newcommand{\Child}[2]{
  child[#1] {#2}
}
\newcommand{\itab}[1]{\hspace{0em}\rlap{#1}}
\newcommand{\tab}[1]{\hspace{.09\textwidth}\rlap{#1}}
\newcommand*{\info}[4][16.3]{%
  \node [ annotation, #3, scale=0.65, text width = #1em,
          inner sep = 2mm ] at (#2) {%
  \list{$\bullet$}{\topsep=0pt\itemsep=0pt\parsep=0pt
    \parskip=0pt\labelwidth=8pt\leftmargin=8pt
    \itemindent=0pt\labelsep=2pt}%
    #4
  \endlist
  };
}

\makeatletter
\newcommand{\mywhiteblackbox}[1]{
  \setbox0=\hbox{#1}
  \setlength{\@tempdima}{\dimexpr\wd0+13pt}
  \begin{tcolorbox}[
    colback=white,
    colframe=black,
    boxrule=0.5pt,
    arc=4pt,
    left=6pt,
    right=6pt,
    top=6pt,
    bottom=6pt,
    boxsep=0pt,
    width=\@tempdima]
    #1
  \end{tcolorbox}
}
\newcommand{\mybluebox}[1]{
  \setbox0=\hbox{#1}
  \setlength{\@tempdima}{\dimexpr\wd0+13pt}
  \begin{tcolorbox}[
    colback=blue!30!white,
    colframe=black!25!white,
    boxrule=0.5pt,
    arc=4pt,
    left=6pt,
    right=6pt,
    top=6pt,
    bottom=6pt,
    boxsep=0pt,
    width=\@tempdima]
    #1
  \end{tcolorbox}
}
\newcommand{\myorangebox}[1]{
  \setbox0=\hbox{#1}
  \setlength{\@tempdima}{\dimexpr\wd0+13pt}
  \begin{tcolorbox}[
    colback=orange!30!white,
    colframe=black!25!white,
    boxrule=0.5pt,
    arc=4pt,
    left=6pt,
    right=6pt,
    top=6pt,
    bottom=6pt,
    boxsep=0pt,
    width=\@tempdima]
    #1
  \end{tcolorbox}
}
\newcommand{\mygreenbox}[1]{
  \setbox0=\hbox{#1}
  \setlength{\@tempdima}{\dimexpr\wd0+13pt}
  \begin{tcolorbox}[
    colback=green!40!white,
    colframe=black!25!white,
    boxrule=0.5pt,
    arc=4pt,
    left=6pt,
    right=1pt,
    top=6pt,
    bottom=6pt,
    boxsep=0pt,
    width=\@tempdima]
    #1
  \end{tcolorbox}
}
\newcommand{\myredbox}[1]{
  \setbox0=\hbox{#1}
  \setlength{\@tempdima}{\dimexpr\wd0+13pt}
  \begin{tcolorbox}[
    colback=red!40!white,
    colframe=black!25!white,
    boxrule=0.5pt,
    arc=4pt,
    left=6pt,
    right=1pt,
    top=6pt,
    bottom=6pt,
    boxsep=0pt,
    width=\@tempdima]
    #1
  \end{tcolorbox}
}
\newcommand{\placetextbox}[3]{
  % \placetextbox{<horizontal pos>}{<vertical pos>}{<stuff>}
  \AddToShipoutPictureFG*{
    \put(\LenToUnit{#1\paperwidth},\LenToUnit{#2\paperheight})
    {\vtop{{\null}\makebox[0pt][c]{#3}}}%
  }
}
\newcommand{\bubblethis}[2]{
  \tikz[remember picture,baseline]{\node[anchor=base,inner sep=0,outer sep=0]%
    (#1) {\underline{#1}};\node[overlay,cloud callout,callout relative
    pointer={(0.2cm,-0.7cm)},%
    aspect=2.5,fill=yellow!90] at ($(#1.north)+(-0.5cm,1.6cm)$) {#2};}%
}%
\makeatother

\newcommand{\monbleu}[1]{{\color{blue}{#1}}}
\newcommand{\rouge}[1]{{\color{red}{#1}}}
\newcommand{\mygray}[1]{\textcolor{mongris}{#1}}
\newcommand{\citat}[1]{{\tiny{\color{green!40!black}{[#1]}}}}
\newcommand{\mynote}[1]{{\scriptsize{\color{red!40!black}{[#1]}}}}
\newcommand{\vundef}{{\color{red}{\bot_V}}}
\newcommand{\vblackundef}{{\bot_V}}
\newcommand{\condundef}{{\color{red}{(U)}}}
\newcommand{\yundefined}{{\color{red}{(U)}}}
\newcommand{\outofmem}{{\color{red}{out of mem}}}
\newcommand{\outoftime}{{\color{red}{$>$ 10min}}}
\newcommand{\env}{\mathcal{E}nv}
\newcommand{\fullsymb}{logicSymb}
\newcommand{\varfullsymb}{logicSymb^\#}
\newcommand{\memmodel}{\varphi}
\newcommand{\condenv}{\varrho}
\newcommand{\varcondenv}{\varrho^\#}
\newcommand{\simplify}{simplify}
\newcommand{\valsimplify}{simplify^+}
\newcommand{\RESPATHconstraint}{\tau}
\newcommand{\nosimplbot}{NoSimp_\bot}
\newcommand{\nosimpltop}{NoSimp_\top}
\newcommand{\symb}{s}
\newcommand{\varsymb}{s^\#}
\newcommand{\mybadmark}{{\color{red}{\bf $\times$}}}
\newcommand{\mycheckmark}{{\color{green}{\bf $\checkmark$}}}
\newcommand{\mywarnmark}{{\color{orange}{\bf $\bullet$}}}
\newcommand{\mymaybemark}{{\color{orange}{\bf $\checkmark$}}}
\newcommand{\rewritingmode}{{\tt rewriting}}
\newcommand{\logicmode}{{\tt logic}}
\newcommand{\hybridmode}{{\tt hybrid}}
\newcommand{\vo}{{\mathcal{O}}}
\newcommand{\vr}{{\mathcal{R}}}
\newcommand{\vm}{{\mathcal{M}}}
\newcommand{\vw}{{\mathcal{W}}}
\newcommand{\vh}{{\mathcal{H}}}
\newcommand{\vx}{{\mathcal{X}}}
\newcommand{\mybadite}{{\color{red}{${{\bf \times}}$}}}
\newcommand{\mybadstore}{{\color{red}{${{\bf \times}}$}}}
\newcommand{\mybadload}{{\color{red}{${{\bf \times}}$}}}
\newcommand{\mybadjmp}{{\color{red}{${{\bf \times}}$}}}
\newcommand{\mybadtout}{{\color{red}{${{\bf \geq 10m}}$}}}
\newcommand{\smalltexttt}[1]{\texttt{\scriptsize #1}}
\newcommand{\tinytexttt}[1]{\texttt{\tiny #1}}


% \newlength{\imagewidth}
% \newlength{\imagescale}
% \DeclareMathAlphabet{\mathcal}{OMS}{cmsy}{m}{n} 
% \DeclareFontFamily{U}{MnSymbolA}{}
% \DeclareFontShape{U}{MnSymbolA}{m}{n}{
%   <-6> MnSymbolA5
%   <6-7> MnSymbolA6
%   <7-8> MnSymbolA7
%   <8-9> MnSymbolA8
%   <9-10> MnSymbolA9
%   <10-12> MnSymbolA10
%   <12-> MnSymbolA12}{}
% \DeclareSymbolFont{MnSyA}{U}{MnSymbolA}{m}{n}
% \DeclareMathSymbol{\downlsquigarrow}{\mathrel}{MnSyA}{163}


\makeatletter
\newif\ifmygrid@coordinates
\tikzset{/mygrid/step line/.style={line width=0.80pt,draw=gray!80},
         /mygrid/steplet line/.style={line width=0.25pt,draw=gray!80}}
\pgfkeys{/mygrid/.cd,
         step/.store in=\mygrid@step,
         steplet/.store in=\mygrid@steplet,
         coordinates/.is if=mygrid@coordinates}
\def\mygrid@def@coordinates(#1,#2)(#3,#4){%
    \def\mygrid@xlo{#1}%
    \def\mygrid@xhi{#3}%
    \def\mygrid@ylo{#2}%
    \def\mygrid@yhi{#4}%
}
\newcommand\DrawGrid[3][]{%
    \pgfkeys{/mygrid/.cd,coordinates=true,step=1,steplet=0.2,#1}%
    \draw[/mygrid/steplet line] #2 grid[step=\mygrid@steplet] #3;
    \draw[/mygrid/step line] #2 grid[step=\mygrid@step] #3;
    \mygrid@def@coordinates#2#3%
    \ifmygrid@coordinates%
        \draw[/mygrid/step line]
        \foreach \xpos in {\mygrid@xlo,...,\mygrid@xhi} {%
          (\xpos,\mygrid@ylo) -- ++(0,-3pt)
                              node[anchor=north] {$\xpos$}
        }
        \foreach \ypos in {\mygrid@ylo,...,\mygrid@yhi} {%
          (\mygrid@xlo,\ypos) -- ++(-3pt,0)
                              node[anchor=east] {$\ypos$}
        };
    \fi%
}
\makeatother
