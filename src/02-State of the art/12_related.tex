\subsection{MADM}
\begin{frame}{MADM}{Related work}


$$
Q n,m = ~~~~\bordermatrix{
		\                   & Metric_{1}     & Metric_{2}    & \ldots  & Metric_{m}  \cr 
		Configuration_{1}   & q_{11}         & q_{12}        & \ldots  & q_{1m}          \cr
		Configuration_{2}   & q_{21}         & q_{22}        & \ldots  & q_{2m}          \cr
		~~~~~~~~\vdots      & \vdots         & \vdots        & \ddots  & \vdots           \cr    
		Configuration_{n}   & q_{n1}         & q_{n2}        & \ldots  & q_{nm}     \cr
	}    
$$

\bigskip

\[
\renewcommand\arraystretch{1.3}
ETC_{ij}=
\begin{blockarray}{ccccc}
 & Metric_{1} & Metric_{2} & \cdots & Metric_{m} \\
\begin{block}{@{}c\{cccc}
  Metric_{1} & ETC_{11} & ETC_{12} & \cdots & ETC_{1m} \\
  Metric_{2} & ETC_{21} & ETC_{22} & \cdots & ETC_{2m} \\
  \vdots & \vdots & \vdots & \vdots & \vdots \\
  Metric_{n} & ETC_{n1} & ETC_{n2} & \cdots & ETC_{nm} \\
\end{block}
\end{blockarray}
 \]


 \end{frame}


\subsection{Learning}

\subsubsection{Bandit Algorithm}
\begin{frame}{Multi-Armed-Bandit Algorithm}{Related work}
\begin{itemize}
	\item \bf{Arms:} K = {1, ... , K}
	\item \bf{Decision:} T = {1, ... , T}
	\item \bf{Reward:} $X^{k}_{t}$ with $\mu^{k}_{t}$ = E $[X^{k}_{t}]$
	\begin{itemize}
		\item \bf{Best reward:} $X^{*}_{t}$ with $\mu^{*}_{t}$ = max $\mu^{k}_{t}$,  k\in  K
	\end{itemize}
\end{itemize}
\end{frame}

\subsubsection{Genetic Algorithm}

\begin{frame}{Genetic Algorithm}{Related work \cite{alkhawlani_access_2008a}}
\begin{itemize}
	\item \textbf{N} transceiver configurations: ($x_{1}, ..., x_{n}$)
	\item \textbf{I} QoS metrics ($m_{1}, ..., m_{i}$). ex: the operators, the applications, and the network conditions.
	\item \textbf{I} weights ($w_{1}, ..., w_{i}$) are sent to the MCDM in the second component.
	\item GA component assigns a suitable weight (w 1 ,w 2 ,...,w i )
\end{itemize}
\end{frame}


\begin{frame}{Genetic Algorithm}{Related work}
% \begin{itemize}
	% \item Evaluation function
		\begin{tabular}{ll}
			\multicolumn{2}{l}{\textbf{Evaluation function}} \\\\
			Define the number of parameters                       	& \{SF, Tx, CR, BW\} \\
			Define the target QoS			                      	& \{RSSI, SNR, delay, PDR, RTD\} \\
			Define evaluation function                            	& \red{Score}(SF, Tx, CR, BW) -> \{RSSI, SNR, delay, PDR, RTD\} \\\\
			\multicolumn{2}{l}{\textbf{Parameters}} \\\\
			Define a population of individuals (solutions)      	& 6720  \\
			Define probabilities of crossing and mutating       	& 0.5, 0.2 \\ 
			Define the number of generations                   	 	& 60 \\\\
			\multicolumn{2}{l}{\textbf{Generations}} \\\\
			Select individuals randomly    							& \{$SF_{i}, Tx_{i}, CR_{i}, BW_{i}\}^{random}$ 	\\
			Clone, crossover and mutate this individuals 	        & \{$SF_{i+1}, Tx_{i+1}, CR_{i+1}, BW_{i+1}\}^{random}$ \\
			Evaluate the offspring with an invalid Fitness 			& \red{Score}($SF_{i+1}, Tx_{i+1}, CR_{i+1}, BW_{i+1}$) \\\\
			\multicolumn{2}{l}{\textbf{(Crossover, Mutation)}} \\\\
			Remove some bad solutions                                & \\
			Duplicate some good solutions                            & \\
			Make small changes to some of them                       & \\
		\end{tabular}
\end{frame}


\subsubsection{Q-Learning}
\begin{frame}{Q Learning}{Related work}
	\Figure{h}{.5}{qlearning}{qlearning}
\end{frame}


\subsubsection{Marcov Chain}

\begin{frame}{Marcov chain}{Related work}

\begin{flushleft}
\begin{equation}
V(s, \pi)=\mathbb{E}_{s}^{\pi}\left(\sum_{k=0}^{\mathrm{inf}} \gamma^{k} \cdot r\left(s_{k}, a_{k}\right)\right), s \in \mathbb{S}
\end{equation}

\begin{equation}
r\left(s_{k}, a_{k}\right)=G_{k} \cdot P R R\left(a_{k}\right)
\end{equation}

\begin{equation}
\pi^{*}=\arg \max _{\pi} V(s, \pi)
\end{equation}

% \stamp{HGHGJ}
% \begin{tikzpicture}[remember picture, overlay]
% 	\node[draw, rotate=30] at (25em, 7ex) {\color{red!90}\huge\bfseries APPROVED};
% \end{tikzpicture}

\begin{equation}
PRR=(1-BER)^{L}
\end{equation}

\begin{equation}
BER=10^{\alpha e^{\beta SNR}}
\end{equation}

\end{flushleft}

\end{frame}

\begin{frame}{Marcov chain}{Related work}

\Columns{0.6}{.4}{

Learning iterative steps:

\Itemize{
	\item \textbf{Choose} action $a_{k}(t) \sim \pi_{k}(t)$
	\item \textbf{Observe} game outcome 
	\Itemize{
		\item $a_{\_k}(t)$
		\item $u_{k}(a_{k}(t), a_{\_k}(t))$
	}
	\item \textbf{Improve} $\pi_{k}(t+1)$
}

Thus, we can expect that \forall k \in K

\Equation{e1}{\pi_{k(t)} \xrightarrow{t\longrightarrow\infty} \pi^{*}_{k}}
\Equation{e2}{u_{k}(\pi_{k}(t), \pi_{\_k}(t)) \xrightarrow{t\longrightarrow\infty} u_{k}(\pi^{*}_{k}, \pi^{*}_{\_k})}

Where:
\Itemize{
	\item $ \pi^{*} = (\pi^{*}_{1}, ..., \pi^{*}_{k})$ is the NE strategy profile
}

}{
	\Figure{h}{1}{marcov}{}
}

\end{frame}














\subsection{Fuzzy Logic}
\begin{frame}{Fuzzy Logic}{Related work}

 \end{frame}







\subsection{Utility Function}

 % \begin{frame}{Utility Function}{Related work}
	%  \begin{equation}
	% 	\begin{array} { l l } 
	% 	M            & the set of LoRa Gateways} \\
	% 	K            & the set of LoRa Devices} \\
	% 	L            & the set of Slices} \\
	% 	K_{l}        & the set of devices associated to slice l} \\
	% 	\sigma_{j}   & the set of packets with S F = j } \\ 
	% 	f_{k,l,m}    & virtual flow for device k in slice l through GW } \\ 
	% 	U_{k,l,m}    & utility for device k in slice l on GW m } \\ 
	% 	sp_{l}       & slice priority of slice l } \\ 
	% 	b_{l,m}      & baximum transmission power of GW m } \\ 
	% 	e^{\xi},m    & power gain between a GW m and a device k } \\ 
	% 	\alpha_{k,l} & lognormal shadowing component } \\ 
	% 	\alpha_{k,l} & association index of device k to slice  l } \\ 
	% 	\beta_{k,m}  & association index of device k to GW } m_{h} \\ 
	% 	u_{k}        & urgency factor for device k } \\
	% 	d_{k}        & instant packet delay for device k} \\
	% 	PDR          & packet delay budget for device k} \\
	% 	\end{array}
	% \end{equation}
 % \end{frame}

 \begin{frame}{Notations}{Related work}
 \Figure{h}{1}{slice2}{Network selection problem}
 \end{frame}


 \begin{frame}{Notations}{Related work}
 \Figure{h}{1}{slice1}{Slice orchestration problem}
 \end{frame}

 \begin{frame}{Notations}{Related work}
 	\Columns{.6}{.4}{
		\begin{tabular}{ll} \\
		\multicolumn{2}{l}{\textbf{Set of devices, slices, gateways and flows}}\\
		G              & set of LoRa Gateways \\
		S              & set of Slices \\
		$D_{s}$        & cluster of devices associated to slice s \\
		% $F_{d,s,g}$    & subset of packets from device d in slice s to GW g \\ 
		\multicolumn{2}{l}{\textbf{Parameters}}\\
		$F_{c}$        & packets with SF = c  \\ 
		$BW_{s,g}$     & bandwidth assigned for slice s over GW g\\
		$P^{Tx}_{g}$       & transmission power of GW g \\
		\multicolumn{2}{l}{\textbf{Constants}}\\
		$i_{d,s}$      & association index of device d to slice s \\ 
		$i_{d,g}$      & association index of device d to GW g \\
		$w_{d}$        & urgency factor for device d \\
		$w_{s} $       & priority of slice s \\
		$w_{r}$        & weight of reliability \\
		$w_{ld} $      & weight of load \\
		\multicolumn{2}{l}{\textbf{Metrics}}\\
		$DR_{d,s,g}$   & data rate achieved by a device d \\
		$SINR_{i,j}$   & SINR with SF=i and SF=j\\ 
		$G^{tx}_{d,g}$ & power gain between a GW g and a device d \\ 
		$S^{rx}_{d,s,g}$   & Receiver sensitivity\\
		$RTD_{d} $     & instant packet delay for device d \\
		$PLR_{d}$      & packet loss rate of device d \\\\
		\red{$U_{d,s,g}$}  & \red{utility for device d in slice s on GW g} \\ 
		\end{tabular}
	}{
		\Figure{h}{.85}{slice}{Slicing}
	}
 \end{frame}

\begin{frame}{Utility function}{Related work}
	\Itemize{
		\item \textbf{G = \{1, ... , G\}:}  Set of gateways
		\item \textbf{S = \{1, ... , S\}:}  Set of slices
		\item \textbf{D = \{1, ... , D\}:} Set of devices
		\item $\mathbf{D_{s} = \{1, ... , D_{s}\} \in D :}$ Cluster of devices in slice s
		\item $\mathbf{F_{d,s,g} = \{1, ... , D_{s}\} :}$ Virtual flow for device d in slice s through GW g
	}

	\Itemize{
		\item $\bf{i}_{\bf{d,s}}$      \in \{0,1\}  Association index of device d to slice s \\ 
		\item $\bf{i}_{\bf{d,g}}$      \in \{0,1\}  Association index of device d to GW g \\
	}


	\Itemize{
		\item $\bf{w}_{\bf{d}}$   \in [0,1]  Urgency factor for device d \\
		\item $\bf{w}_{\bf{s}} $  \in [0,1]  Priority of slice s \\
		\item $\bf{wr}$           \in [0,1]  Weight of the impact of reliability (SINR)\\
		\item $\bf{wld}$          \in [0,1]  Weight of the impact of load (congestion)\\
	}

 \end{frame}

\begin{frame}{Utility Function}{Related work}
\Columns{.6}{.4}{

	\begin{equation}
		\begin{array} { l }
			\sigma_{r} = SINR_{d,s,g}/SINR_{max}\\\\\\

			% min~D  = \left( \frac {\sum_{d=1}^{D_{s} } \sum_{d^{\prime} = D_{s} +1}^{D_{s}+D_{s^{\prime}}} \left(u_{d}-u_{d^{\prime}} \right)} {D_{s} D_{s^{\prime}}}\right)^{1/2},\forall d \in D_{s},\forall d^{\prime }\in D_{s^ {\prime}}\\\\
			U_{HCC} = \delta_{r} \left(\sigma_{r} w_{r} + \sigma_{ld} w_{ld} \right) \quad  with \quad \delta_{r} \in \{ 0,1 \} \\\\
			U_{MCC} = \sigma_{r} w_{r} + \sigma_{ld} w_{ld} \\\\
			U_{LCC} = \sigma_{ld} w_{ld} \\\\
			U_{d,s,g} = U_{d,s,g}^{\prime}+U_{d,s,g}^{\prime\prime} \\\\\\
			E_{d,s,g} = \frac {p_{i}^{tx} + p_{i} ^ {rx}} {V+epa } \cdot d_{tx/rx}
		\end{array}
	\end{equation}
}{
\Figure{h}{.85}{slice}{Slicing}
}
\end{frame}

% \begin{frame}{Utility Function}{Related work}
% 	\begin{equation}
% 		\begin{array} { l l}
% 			DR_{d,s,g} &=SF\cdot\frac{bw_{s,g}}{2^{SF}}\quad\text{bits}/s\\\\
% 			Rx_{d,s,g} &=\frac{Tx_{d,s,g}  . u_{d,s,g}^{rx}  . u_{d,s,g}^{tx}}{PL} \epsilon ,  ~~~~~~~ with ~ \epsilon \sim N (0, \sigma 2 ) \\\\
% 			\          &PL=L_{0}+10.n\cdot\log_{10}\left(\frac{d}{d_{0}}\right)\\\\
% 			SINR_{i,j} &=\frac{Rx_{i}}{\sigma^{2}+\sum_{n\in Pkt_{j}} Rx_{n}}\\\\
% 			\sigma_{r} &= \frac{SINR_{k,l,m}}{SINR_{max}}
% 		\end{array}
% 	\end{equation}
%  \end{frame}


\begin{frame}{BIRCH: Clustering}{balanced iterative reducing and clustering using hierarchies}
	
	\Itemize{
	\item [T:] max number of device per cluster, 
	\item [B:] maw number of childes per cluster.
	}

	\Itemize{
	\item [$t_{0}:$] number of clusters = number of devices;
	\item [$t_{i}:$] get D2 the set of closest devices to cluster D1
		\itemize{
			\item if D1+D2 < T -> merge 
			\item eif D2< B -> create sub-cluster D2 of D1	
		}
	}
	\begin{equation}
		CF : \left( D_{s} , L S , S S \right) = \left(D_{s} , \sum_{d=1}^{D_{s}} w_{d}, \sum_{d=1}^{D_{s}} w_{d}^{2} \right)
	\end{equation}

\end{frame}


\begin{frame}{Constraints/Hypothesis}{Related work}
\Columns{.6}{.4}{
	\begin{equation}
		max \sum _ { d \in D } \sum _ { s \in S } i_{d,s} \cdot U_{d,g,s} ~~~~~~~~~~~, g \in G
	\end{equation}

	\begin{equation}
		\begin{array} { l l}
			C1 : \sum _ { s \in S } i_{d,s} &= 1 , \forall d \in D \\ \\
			C2 : \sum _ { d \in D } i_ {d,g} \cdot P^{tx}_{d,s,g } &\leqslant P^{tx~max}_{g} , \forall g \in G , \forall s \in S \\ \\
			C3 : \sum _ { d = 1 } ^ { N } i_ {d,s} \cdot i_{d,g} \cdot DR_{d,s,g} \cdot &\leq  BW _ { s , g } , \forall s \in S , \forall g \in G  \\ \\
		\end{array} 
	\end{equation}
}{
\Figure{h}{.85}{slice}{Slicing}
}
\end{frame}







% \begin{frame}{Utility Function}{Related work}
% 	\begin{tabular} { l | l l l l l l } \\
% 		\           & $SF_{7}$ & $SF_{B}$ & $SF_{9}$ & $SF_{10}$ & $SF_{11}$ & $SF_{12}$ \\
% 		$SF_ {7}$   & { - 6 }         & { 16 }          & { 18 }          & { 19 }           & { 19 }           & { 20 } \\
% 		$SF_{8}$    & { 24 }          & { - 6 }         & { 20 }          & { 22 }           & { 22 }           & { 22 } \\
% 		$SF_ {9}$   & { 27 }          & { 27 }          & { - 6 }         & { 23 }           & { 25 }           & { 25 } \\
% 		$SF_{10}$   & { 30 }          & { 30 }          & { 30 }          & { - 6 }          & { 26 }           & { 28 } \\
% 		$SF_ {11}$  & { 33 }          & { 33 }          & { 33 }          & { 33 }           & { - 6 }          & { 29 } \\
% 		$S F_{12}$  & { 36 }          & { 36 }          & { 36 }          & { 36 }           & { 36 }           & { - 6 }
% 	\end{tabular}
% \end{frame}


\subsection{Game Theory}
\begin{frame}{Game theory}{Related work}
	\Itemize{
		\item \bf{Players:} $K = \{1, ... , K\}$
		\item \bf{Strategies:} $S =S_{1} \times \ldots \times S_{K}$
		\Itemize{
			\item $S_{k}$ is the strategy set of the $k^{th}$ player.
		}
		\item \bf{Rewards:} $u_{k} : S \longrightarrow R_{+}$ and is denoted by $r_{k} (s_{k} , s_{-k})$
		\Itemize{
			\item $s_{-k}=\left(s_{1}, \dots, s_{k-1}, s_{k+1}, \ldots, s_{K}\right) \in S_{1} \times \ldots \times S_{k-1} \times S_{k+1} \times \ldots \times S_{K}$
		}
	}
 \end{frame}


\subsection{Matching Theory}
\begin{frame}{Game theory}{Related work}


 \end{frame}